# 正常流中的块和行布局模式

本节我们首先来探索正常流中的**块**和**行**元素的行为模式。

!> block formatting context: 块级格式上下文，本文译作 `块级格式`

!> inline formatting context: 行内/内联格式上下文，本文译作 `行内格式`

!> formatting context: 格式化上下文，文本译作 `格式环境`

[CSS 2.1 规格书]()定义了**正常流**，其中阐释了*任何正常流中的盒子都是格式环境的一部分*。它可以是块级元素，也可以是行内元素，但不可以既是块级也是行内。所以我们将块级盒子表述为“使用了块级格式”，行内盒子表述为“使用了行内格式”。

规格说明书定义了元素一旦拥有了块/行的格式环境之后的行为。对于块级格式，规格说明书如此写道：

> “在块级格式环境中，盒子从父级区块最顶端的垂直方向上堆叠起来，两个相邻盒子的垂直距离取决于'margin'属性，相邻的两个块级元素的垂直边距会重叠。”
> 
> 在一个块级格式中，每个盒子最左侧边缘落在父级区块的最左侧边缘上（对于从右到左的排版环境中，则是最右侧边缘相接）”。- 9.4.1

行内格式的描述如下：

> “在一个行内格式环境中，盒子从父级区块最顶端的水平方向上堆叠起来，水平方向上的内边距、外边距、边框会相应地隔离开每个盒子。这些盒子在水平方向的对齐方式可以各不相同：它们可以基于底部、顶部、文字基线进行对齐。这个形成一行的矩形盒子称之为行内盒子。” - 9.4.2

要注意的是，CSS 2.1规格说明书默认将文档的排版视为水平的，从上至下的排版模式，也就是通常人们理解的阅读顺序。

## 使用块级格式的元素

块级元素，以通常的英文水平书写习惯，则是从垂直布局格式。

![mdn-horizontal](https://mdn.mozillademos.org/files/16125/mdn-horizontal.png)

如果是垂直书写顺序，那么布局则是水平布局格式。

![mdn-vertical](https://mdn.mozillademos.org/files/16126/mdn-vertical.png)

在本指南中，我们主要使用中文（和英语的书写顺序一样），因此是一个水平书写模式。

就如规格说明书所规定，两个块级盒子的边距会产生分隔距离，我们给两段文本加上边框，就可以看到浏览器默认为文本的上下两端添加了边距。


<div class="box">
    <p style="border: 2px solid green;">蔡徐坤（KUN），1998年8月2日出生于浙江省，中国内地男歌手、演员、音乐制作人。2012年4月，蔡徐坤因参加综艺节目《向上吧！少年》进入全国200强而进入娱乐圈；同年8月，参演个人首部偶像剧《童话二分之一》。2014年3月，参演个人首部电影《完美假妻168》。</p>
    <p style="border: 2px solid green;">“鸡你太美”火了。这句蔡徐坤的歌词成了网络上当下最红的一句“空耳”。配合着前段时间微信的bug“你打篮球像蔡徐坤”，“鸡你太美”成了“坤坤黑”们嘲讽蔡徐坤的最佳语言工具。</p>
</div>

```css
p {
    border: 2px solid green;
}
```

如果将文本的边框设为0，那么它们就会触碰到了。

<div class="box">
    <p style="border: 2px solid green; margin: 0;">蔡徐坤（KUN），1998年8月2日出生于浙江省，中国内地男歌手、演员、音乐制作人。2012年4月，蔡徐坤因参加综艺节目《向上吧！少年》进入全国200强而进入娱乐圈；同年8月，参演个人首部偶像剧《童话二分之一》。2014年3月，参演个人首部电影《完美假妻168》。</p>
    <p style="border: 2px solid green; margin: 0;">“鸡你太美”火了。这句蔡徐坤的歌词成了网络上当下最红的一句“空耳”。配合着前段时间微信的bug“你打篮球像蔡徐坤”，“鸡你太美”成了“坤坤黑”们嘲讽蔡徐坤的最佳语言工具。</p>
</div>

```css
p {
    border: 2px solid green;
    margin: 0;
}
```

默认情况下，块级元素会占用整行空间，所以我们的文本会在父级区块允许的范围内尽可能地撑开。如果为文本指定宽度，那么它们则会在规定的宽度内显示完内容，并在水平方向上堆叠，即使它的左右两边还有充足的空间。它们会在父级区块的起始边缘开始，也就是书写模式的顺序，从左至右，或者从右至左。


<div class="box" style="border: 1px solid;">
    <p style="border: 2px solid green; width: 40%;">蔡徐坤（KUN），1998年8月2日出生于浙江省，中国内地男歌手、演员、音乐制作人。2012年4月，蔡徐坤因参加综艺节目《向上吧！少年》进入全国200强而进入娱乐圈；同年8月，参演个人首部偶像剧《童话二分之一》。2014年3月，参演个人首部电影《完美假妻168》。</p>
    <p style="border: 2px solid green; width: 40%;">“鸡你太美”火了。这句蔡徐坤的歌词成了网络上当下最红的一句“空耳”。配合着前段时间微信的bug“你打篮球像蔡徐坤”，“鸡你太美”成了“坤坤黑”们嘲讽蔡徐坤的最佳语言工具。</p>
</div>

```css
p {
    border: 2px solid green;
    width: 40%;
}
```

## 边距重叠


